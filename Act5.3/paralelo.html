<!DOCTYPE html> <html lang='en'> <head> <meta charset='UTF-8'> <meta http-equiv='X-UA-Compatible' content='IE=edge'> <meta name='viewport' content='width=device-width, initial-scale=1.0'> <title>Actividad 3.4 Paulina</title> <link rel='stylesheet' href='styles.css'> </head> <body><br><span class='comentario'>// /**</span><br><span class='comentario'>//  * @readFile main.cpp</span><br><span class='comentario'>//  * @author Paulina Cardoso Fuentes - A01701490</span><br><span class='comentario'>//  * @author Paola Adriana Millares Forno - A01705674</span><br><span class='comentario'>//  * @brief </span><br><span class='comentario'>//  * @version 0.1</span><br><span class='comentario'>//  * @date 2021-06-06</span><br><span class='comentario'>//  * </span><br><span class='comentario'>//  * @copyright Copyright (c) 2021</span><br><span class='comentario'>//  * </span><br><span class='comentario'>//  */</span><br><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>iostream</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>string</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>fstream</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>pthread</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>iostream</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>math</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>stdio</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>stdlib</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>unistd</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>string</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>time</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>sys</span><span class='operadores'>/</span><span class='variable'>time</span><span class='variable'>h</span><span class='operadores'>></span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='operadores'><</span><span class='variable'>sys</span><span class='operadores'>/</span><span class='variable'>types</span><span class='variable'>h</span><span class='operadores'>></span><br><br><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_A</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_B</span> <span class='operadores'>=</span> <span class='numero'>1</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_C</span> <span class='operadores'>=</span> <span class='numero'>2</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_D</span> <span class='operadores'>=</span> <span class='numero'>3</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_E</span> <span class='operadores'>=</span> <span class='numero'>4</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_F</span> <span class='operadores'>=</span> <span class='numero'>5</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_G</span> <span class='operadores'>=</span> <span class='numero'>6</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_H</span> <span class='operadores'>=</span> <span class='numero'>7</span><span class='operadores'>;</span><br><span class='palabra-reservada'>const </span><span class='palabra-reservada'>int </span><span class='variable'>STATE_I</span> <span class='operadores'>=</span> <span class='numero'>8</span><span class='operadores'>;</span><br><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"Comentario.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"Entero.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"Reales.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"Variable.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"String.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"PalabraReservada.hpp"</span><br><span class='operadores'>#</span><span class='variable'>include</span> <span class='string'>"utils.h"</span><br><br><span class='operadores'>#</span><span class='variable'>define</span> <span class='variable'>THREADS</span> <span class='numero'>1</span><br><br><span class='palabra-reservada'>using </span><span class='palabra-reservada'>namespace </span><span class='variable'>std</span><span class='operadores'>;</span><br><br><span class='variable'>string</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='variable'>string</span> <span class='variable'>type</span><span class='operadores'>,</span> <span class='variable'>string</span> <span class='variable'>text</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>return </span><span class='string'>"<span class='" + type + "'>" +text+ "</span>";</span><br><span class='operadores'>}</span><br><br><span class='palabra-reservada'>void*</span> <span class='variable'>lexerAritmetico</span><span class='operadores'>(</span><span class='variable'>string</span> <span class='variable'>archivo</span><span class='operadores'>,</span> <span class='palabra-reservada'>int </span><span class='variable'>start</span><span class='operadores'>,</span> <span class='palabra-reservada'>int </span><span class='variable'>limit</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>string</span> <span class='variable'>c</span><span class='operadores'>,</span> <span class='variable'>str</span><span class='operadores'>,</span> <span class='variable'>substring</span><span class='operadores'>,</span> <span class='variable'>textoHTML</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>Comentario</span> <span class='variable'>comentario</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>String</span> <span class='variable'>tipoString</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>Entero</span> <span class='variable'>entero</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>Reales</span> <span class='variable'>real</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>Variable</span> <span class='variable'>variable</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>PalabraReservada</span> <span class='variable'>palabraReservada</span><span class='operadores'>;</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>ofstream</span> <span class='variable'>writeFile</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='variable'>open</span><span class='operadores'>(</span><span class='string'>"index.html",ios_base::app);</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"<!DOCTYPE html> <html lang='en'> <head> <meta charset='UTF-8'> <meta http-equiv='X-UA-Compatible' content='IE=edge'> <meta name='viewport' content='width=device-width, initial-scale=1.0'> <title>Actividad 3.4 Paulina</title> <link rel='stylesheet' href='styles.css'> </head> <body>";</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>ifstream</span> <span class='variable'>readFile</span><span class='operadores'>;</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>readFile</span><span class='variable'>open</span><span class='operadores'>(</span><span class='variable'>archivo</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>int </span><span class='variable'>cont</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>while </span><span class='operadores'>(</span><span class='variable'>getline</span><span class='operadores'>(</span><span class='variable'>readFile</span><span class='operadores'>,</span> <span class='variable'>str</span><span class='operadores'>)</span><span class='operadores'>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>if(</span><span class='variable'>cont</span> <span class='operadores'>></span><span class='operadores'>=</span> <span class='variable'>start</span> <span class='variable'>and</span> <span class='variable'>cont</span> <span class='operadores'><</span><span class='operadores'>=</span> <span class='variable'>limit</span><span class='operadores'>)</span><span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span> <span class='operadores'><</span><span class='operadores'><</span>  <span class='string'>"<br>";</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>for </span><span class='operadores'>(</span><span class='palabra-reservada'>int </span><span class='variable'>i</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span> <span class='variable'>i</span> <span class='operadores'><</span> <span class='variable'>str</span><span class='variable'>length</span><span class='operadores'>(</span><span class='operadores'>)</span><span class='operadores'>;</span> <span class='variable'>i</span><span class='operadores'>+</span><span class='operadores'>+</span><span class='operadores'>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>c</span> <span class='operadores'>=</span> <span class='variable'>str</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>substring</span> <span class='operadores'>=</span> <span class='variable'>str</span><span class='variable'>substr</span><span class='operadores'>(</span><span class='variable'>i</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>" ") {</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='string'>" ";</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"\t") {</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"&nbsp;&nbsp;&nbsp;&nbsp";</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>tipoString</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"string", substring.substr(0, tipoString.processEntry(substring) + 1));</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>i</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>tipoString</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>comentario</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"comentario",substring);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>i</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>comentario</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>palabraReservada</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"palabra-reservada", substring.substr(0, palabraReservada.processEntry(substring) + 1));</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>i</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>palabraReservada</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>variable</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"variable", substring.substr(0, variable.processEntry(substring)+1));</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>i</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>variable</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>real</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"real", substring.substr(0, real.processEntry(substring)+1));</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>i</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>real</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>entero</span><span class='variable'>processEntry</span><span class='operadores'>(</span><span class='variable'>substring</span><span class='operadores'>)</span> <span class='operadores'>=</span> <span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"numero", substring.substr(0, entero.processEntry(substring) + 1));</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"=") {</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"+"){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"*") {</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"/"){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"^") {</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"-" && str[i+1]==' ' ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores", c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"(" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>")" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"'")</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores", c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"," ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"#" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>";" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"{"){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores", c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"}" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"["){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores", c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"]" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span> <span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>"<" ){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores",c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>if </span><span class='operadores'>(</span><span class='variable'>c</span> <span class='operadores'>=</span><span class='operadores'>=</span> <span class='string'>">"){</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>writeFile</span><span class='operadores'><</span><span class='operadores'><</span> <span class='variable'>writeTag</span><span class='operadores'>(</span><span class='string'>"operadores", c);</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>else </span><span class='palabra-reservada'>continue;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cont</span><span class='operadores'>+</span><span class='operadores'>+</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>return </span><span class='operadores'>(</span><span class='palabra-reservada'>void*</span><span class='operadores'>)</span> <span class='numero'>0</span><span class='operadores'>;</span><br><span class='operadores'>}</span><br><br><span class='comentario'>// /*************************************************************</span><br><span class='comentario'>// * Concurrent implementation</span><br><span class='comentario'>// *************************************************************/</span><br><span class='palabra-reservada'>typedef </span><span class='palabra-reservada'>struct{</span><br>  <span class='palabra-reservada'>int </span><span class='variable'>start</span><span class='operadores'>,</span> <span class='variable'>limit</span><span class='operadores'>;</span><br>  <span class='variable'>string</span> <span class='variable'>file</span><span class='operadores'>;</span><br><span class='operadores'>}</span> <span class='variable'>Block</span><span class='operadores'>;</span><br><br><br><span class='palabra-reservada'>void*</span> <span class='variable'>task</span><span class='operadores'>(</span><span class='palabra-reservada'>void*</span> <span class='variable'>param</span><span class='operadores'>)</span><span class='operadores'>{</span><br>    <span class='variable'>Block</span> <span class='operadores'>*</span><span class='variable'>block</span><span class='operadores'>;</span><br>    <span class='variable'>block</span> <span class='operadores'>=</span> <span class='operadores'>(</span><span class='variable'>Block</span> <span class='operadores'>*</span><span class='operadores'>)</span> <span class='variable'>param</span><span class='operadores'>;</span><br>    <span class='palabra-reservada'>return </span><span class='operadores'>(</span><span class='operadores'>(</span><span class='palabra-reservada'>void*</span><span class='operadores'>)</span><span class='variable'>lexerAritmetico</span><span class='operadores'>(</span><span class='variable'>block</span><span class='operadores'>></span><span class='variable'>file</span><span class='operadores'>,</span> <span class='variable'>block</span><span class='operadores'>></span><span class='variable'>start</span><span class='operadores'>,</span> <span class='variable'>block</span><span class='operadores'>></span><span class='variable'>limit</span><span class='operadores'>)</span><span class='operadores'>)</span><span class='operadores'>;</span><br><span class='operadores'>}</span><br><br><br><span class='palabra-reservada'>int </span><span class='variable'>main</span><span class='operadores'>(</span><span class='palabra-reservada'>int </span><span class='variable'>argc</span><span class='operadores'>,</span> <span class='palabra-reservada'>char*</span> <span class='variable'>argv</span><span class='operadores'>[</span><span class='operadores'>]</span><span class='operadores'>)</span> <span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>string</span> <span class='variable'>input</span><span class='operadores'>,</span> <span class='variable'>line</span><span class='operadores'>,</span> <span class='variable'>result</span> <span class='operadores'>=</span> <span class='string'>"<!DOCTYPE html> <html lang='en'> <head> <meta charset='UTF-8'> <meta http-equiv='X-UA-Compatible' content='IE=edge'> <meta name='viewport' content='width=device-width, initial-scale=1.0'> <title>Actividad 3.4 Paulina</title> <link rel='stylesheet' href='styles.css'> </head> <body>", text = "";</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>int </span><span class='variable'>numberLines</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>long </span><span class='palabra-reservada'>int </span><span class='variable'>results</span><span class='operadores'>[</span><span class='variable'>THREADS</span><span class='operadores'>]</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>double </span><span class='variable'>seq</span><span class='operadores'>,</span> <span class='variable'>parallel</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cout</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"Nombre del archivo: ";</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cin</span> <span class='operadores'>></span><span class='operadores'>></span> <span class='variable'>input</span><span class='operadores'>;</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>ifstream</span> <span class='variable'>file</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>file</span><span class='variable'>open</span><span class='operadores'>(</span><span class='variable'>input</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>while </span><span class='operadores'>(</span><span class='variable'>getline</span><span class='operadores'>(</span><span class='variable'>file</span><span class='operadores'>,</span> <span class='variable'>line</span><span class='operadores'>)</span><span class='operadores'>)</span><span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>+</span><span class='operadores'>+</span><span class='variable'>numberLines</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// /*************************************************************</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// * Implementacion Secuencial</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// *************************************************************/</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cout</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"Running sequential code..." << endl;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>start_timer</span><span class='operadores'>(</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>lexerAritmetico</span><span class='operadores'>(</span><span class='variable'>input</span><span class='operadores'>,</span><span class='numero'>0</span><span class='operadores'>,</span><span class='variable'>numberLines</span><span class='numero'>-1</span><span class='numero'>1</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>seq</span> <span class='operadores'>=</span> <span class='variable'>stop_timer</span><span class='operadores'>(</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>printf</span><span class='operadores'>(</span><span class='string'>"\tTiempo en secuencial = %lf \n",seq);</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// /*************************************************************</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// * Implementacion en Paralelo</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='comentario'>// *************************************************************/</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cout</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"Running parallel code..." << endl;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>Block</span> <span class='variable'>blocks</span><span class='operadores'>[</span><span class='variable'>THREADS</span><span class='operadores'>]</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>pthread_t</span> <span class='variable'>threads</span><span class='operadores'>[</span><span class='variable'>THREADS</span><span class='operadores'>]</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>long </span><span class='variable'>jump</span> <span class='operadores'>=</span> <span class='variable'>numberLines</span> <span class='operadores'>/</span> <span class='variable'>THREADS</span><span class='operadores'>;</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>for </span><span class='operadores'>(</span><span class='palabra-reservada'>int </span><span class='variable'>i</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span> <span class='variable'>i</span> <span class='operadores'><</span> <span class='variable'>THREADS</span><span class='operadores'>;</span> <span class='variable'>i</span><span class='operadores'>+</span><span class='operadores'>+</span><span class='operadores'>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>blocks</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='variable'>start</span> <span class='operadores'>=</span> <span class='variable'>i</span> <span class='operadores'>*</span> <span class='variable'>jump</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>blocks</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='variable'>limit</span> <span class='operadores'>=</span> <span class='operadores'>(</span><span class='variable'>i</span> <span class='operadores'>+</span> <span class='numero'>1</span><span class='operadores'>)</span> <span class='operadores'>*</span> <span class='variable'>jump</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>blocks</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='variable'>file</span> <span class='operadores'>=</span> <span class='variable'>input</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp<br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>start_timer</span><span class='operadores'>(</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>for </span><span class='operadores'>(</span><span class='palabra-reservada'>int </span><span class='variable'>i</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span> <span class='variable'>i</span> <span class='operadores'><</span> <span class='variable'>THREADS</span><span class='operadores'>;</span> <span class='variable'>i</span><span class='operadores'>+</span><span class='operadores'>+</span><span class='operadores'>)</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>pthread_create</span><span class='operadores'>(</span><span class='variable'>threads</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>,</span><span class='variable'>NULL</span><span class='operadores'>,</span> <span class='variable'>task</span><span class='operadores'>,</span><span class='operadores'>(</span><span class='palabra-reservada'>void*</span><span class='operadores'>)</span> <span class='variable'>blocks</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='palabra-reservada'>for </span><span class='operadores'>(</span><span class='palabra-reservada'>int </span><span class='variable'>i</span> <span class='operadores'>=</span> <span class='numero'>0</span><span class='operadores'>;</span> <span class='variable'>i</span> <span class='operadores'><</span> <span class='variable'>THREADS</span><span class='operadores'>;</span> <span class='variable'>i</span><span class='operadores'>+</span><span class='operadores'>+</span><span class='operadores'>)</span><span class='operadores'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>pthread_join</span><span class='operadores'>(</span><span class='variable'>threads</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>,</span> <span class='operadores'>(</span><span class='palabra-reservada'>void*</span><span class='operadores'>*</span><span class='operadores'>)</span> <span class='variable'>results</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>result</span> <span class='operadores'>+</span><span class='operadores'>=</span> <span class='variable'>results</span><span class='operadores'>[</span><span class='variable'>i</span><span class='operadores'>]</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='operadores'>}</span><br>&nbsp;&nbsp;&nbsp;&nbsp<br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>parallel</span> <span class='operadores'>=</span> <span class='variable'>stop_timer</span><span class='operadores'>(</span><span class='operadores'>)</span><span class='operadores'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cout</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"\tTiempo paralelo = " << parallel<<endl;</span><br>    <br>&nbsp;&nbsp;&nbsp;&nbsp<span class='variable'>cout</span> <span class='operadores'><</span><span class='operadores'><</span> <span class='string'>"Speed up = "<< (float) seq / (float) parallel *100<< "%"<<endl;</span><br><span class='operadores'>}</span>